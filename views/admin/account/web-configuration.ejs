<%- include("../../shared/head", {pageTitle: "Web Configuration"}) %>
<link rel="stylesheet" href="/css/forms.css">
<link rel="stylesheet" href="/css/sort-nav.css">
</head>
<body>
    <%- include("../../shared/header") %>
<main>

<%- include("includes/sort-nav", {urlPath:'config'}) %>
  <section>
    <h4>Web Configuration</h4>
        <form action="/admin/config" method="POST">
         <input type="hidden" name="_csrf" value="<%= locals.csrfToken%>" />
          <input type="hidden" name="_id" value="<%= config && config._id ? config._id : null %>">
        <p>
        <label for="webname">Web Name</label>
        <input
          type="text"
          name="webname"
          id="webname"
          value="<%= config && config.webname ? config.webname : '' %>"
          required
        />
      </p>
      <p>
        <label for="email">Email</label>
        <input
          type="email"
          name="email"
          id="email"
          value="<%= config && config.email ? config.email : '' %>"
          required
        />
      </p>
      <p>
        <label for="phone">Contact Phone</label>
        <input
          type="tel"
          name="phone"
          id="phone"
          value="<%= config && config.phone ? config.phone : ''  %>"
          required
        />
      </p>

      <p>
        <label for="street">Company Address</label>
        <input
          type="text"
          name="street"
          id="street"
         value="<%= config && config.address ? config.address.street : '' %>"
          required
        />
      </p>
      <p>
        <label for="postal">PLZ</label>
        <input
          type="number"
          name="postal"
          id="postal"
          minlength="5"
          maxlength="5"
          value="<%= config && config.address ? config.address.postal : '' %>"
          required
        />
      </p>
      <p>
        <label for="city">City</label>
        <input
          type="text"
          name="city"
          id="city"
         value="<%= config && config.address ? config.address.city : '' %>"
          required
        />
      </p>
      <p>
        <label for="country">Country</label>
        <input
          type="text"
          name="country"
          id="country"
          value="<%= config && config.address ? config.address.country : '' %>"
          required
        />
      </p>   
<hr>
      <h4>Delivery</h4>
      <p>
        <label for="pickup">Only pickup available?</label>
        <select name="pickup" id="pickup">
          <option value="disabled" <% if (locals.configData && locals.configData.pickup === 'disabled') { %> selected <% } %>>Disable</option>
          <option value="active" <% if (locals.configData && locals.configData.pickup === 'active') { %> selected <% } %>>Active</option>
          <option value="only" <% if (locals.confiData && locals.configData.pickup === 'only') { %> selected <% } %>>Only pickup available</option>
        </select>
      </p>
      <p>
        <label for="pickupMessage">Only pickup: message displayed</label>
        <textarea id="pickupMessage" name="pickupMessage"><%= config && config.pickupMessage ? config.pickupMessage : ''%></textarea>
      </p>
      <p>
        <label for="pickupStreet">Pickup Address</label>
        <input
          type="text"
          name="pickupStreet"
          id="pickupStreet"
         value="<%= config && config.pickupAddress ? config.pickupAddress.pickupStreet : '' %>"
          required
        />
      </p>
      <p>
        <label for="pickupPostal">PLZ</label>
        <input
          type="number"
          name="pickupPostal"
          id="pickupPostal"
          minlength="5"
          maxlength="5"
          value="<%= config && config.pickupAddress ? config.pickupAddress.pickupPostal : '' %>"
          required
        />
      </p>
      <p>
        <label for="pickupCity">City</label>
        <input
          type="text"
          name="pickupCity"
          id="pickupCity"
         value="<%= config && config.pickupAddress ? config.pickupAddress.pickupCity : '' %>"
          required
        />
      </p>
      <p>
        <label for="pickupCountry">Country</label>
        <input
          type="text"
          name="pickupCountry"
          id="pickupCountry"
          value="<%= config && config.pickupAddress ? config.pickupAddress.pickupCountry : '' %>"
          required
        />
      </p>

      <hr>

      <h4>Delivery Pricing</h4>
        <p>
          <label for="minDelivery" id="minDelivery">Min. Delivery (&#8364;)</label>
          <input type="number" name="minDelivery" id="minDelivery" value="<%= config && config.minDelivery ? config.minDelivery : '' %>" required>
          </p>
          <p>
            <label for="deliveryPrice" id="deliveryPrice">Delivery Price (&#8364;)</label>
            <input type="number" id="deliveryPrice" name="deliveryPrice" value="<%= config && config.deliveryPrice ? config.deliveryPrice : '' %>" required>
          </p>
          <p>
          <label for="freeDelivery" id="freeDelivery">Free Delivery from (&#8364;)</label>
          <input type="number" id="freeDelivery" name="freeDelivery" value="<%= config && config.freeDelivery ? config.freeDelivery : '' %>" required>
        </p>  
      
      <hr>
      
      <h4>Social Networks</h4>
      <p>
        <label for="facebook">Facebook</label>
        <input
          type="text"
          name="facebook"
          id="facebook"
          value="<%= config && config.social ? config.social.facebook : '' %>"
          
        />
      </p>   
      <p>
        <label for="instagram">Instagram</label>
        <input
          type="text"
          name="instagram"
          id="instagram"
          value="<%= config && config.social ? config.social.instagram : '' %>"
          
        />
      </p>   
      <div>
           <button class="btn" id="updateButton">Update Data</button>
      </div>
        </form>
     </section>
</main>
<%- include("../../shared/footer") %>
